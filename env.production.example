# Production Environment Configuration
# Copy this file to .env.production and fill in the actual values

# Database
POSTGRES_USER=recyclic
POSTGRES_DB=recyclic
POSTGRES_PORT=5432
POSTGRES_HOST=postgres
POSTGRES_PASSWORD=<STRONG_SECURE_PASSWORD>

# Security
SECRET_KEY=<LONG_RANDOM_SECRET_KEY_FOR_JWT>

# Telegram Bot
TELEGRAM_BOT_TOKEN=<PRODUCTION_BOT_TOKEN>
ADMIN_TELEGRAM_IDS=<ADMIN_IDS_COMMA_SEPARATED>
TELEGRAM_BOT_URL=http://bot:8001
ENABLE_INLINE_BUTTONS=true

# Frontend URL (Production)
FRONTEND_URL=https://recyclic.jarvos.eu

# API Configuration
VITE_API_URL_PROD=/api
API_V1_STR=/v1
ROOT_PATH=

# Application Environment
ENVIRONMENT=production

# CORS Settings (Production)
ALLOWED_HOSTS=recyclic.jarvos.eu
CORS_ALLOW_ORIGINS=https://recyclic.jarvos.eu
BACKEND_CORS_ORIGINS=https://recyclic.jarvos.eu

# Email Service (Brevo)
# Clé API Brevo pour l'envoi d'emails (obligatoire pour les fonctionnalités email)
BREVO_API_KEY=<PRODUCTION_BREVO_API_KEY>
# Secret webhook Brevo pour vérifier les callbacks (recommandé en production)
BREVO_WEBHOOK_SECRET=<PRODUCTION_WEBHOOK_SECRET>
# Nom de l'expéditeur affiché dans les emails
EMAIL_FROM_NAME=Recyclic
# Adresse email de l'expéditeur (doit être vérifiée dans Brevo)
EMAIL_FROM_ADDRESS=noreply@recyclic.jarvos.eu
# Adresse email par défaut pour les tests (optionnel, configurable via l'interface admin)
DEFAULT_EMAIL_RECIPIENT=

# Cash session reports
CASH_SESSION_REPORT_DIR=/app/reports/cash_sessions
CASH_SESSION_REPORT_RECIPIENT=<FINANCE_TEAM_EMAIL>
CASH_SESSION_REPORT_TOKEN_TTL_SECONDS=900
CASH_SESSION_REPORT_RETENTION_DAYS=30

# kDrive Sync (Optional)
KDRIVE_WEBDAV_URL=https://kdrive.example.com/remote.php/webdav
KDRIVE_WEBDAV_USERNAME=<KDRIVE_USERNAME>
KDRIVE_WEBDAV_PASSWORD=<KDRIVE_APP_PASSWORD>
KDRIVE_REMOTE_BASE_PATH=/Recyclic/exports
KDRIVE_SYNC_ENABLED=false
KDRIVE_SYNC_INTERVAL_SECONDS=3600
KDRIVE_RETRY_DELAY_SECONDS=5
KDRIVE_MAX_RETRIES=3

# Backup Configuration
BACKUP_REMOTE_HOST=<BACKUP_SERVER_HOST>
BACKUP_REMOTE_USER=<BACKUP_USER>
BACKUP_REMOTE_PATH=/backups/recyclic/prod
BACKUP_RETENTION_DAYS=30
NOTIFICATION_EMAIL=<ADMIN_EMAIL>
NOTIFICATION_TELEGRAM_TOKEN=<BOT_TOKEN_FOR_NOTIFICATIONS>
NOTIFICATION_TELEGRAM_CHAT_ID=<ADMIN_CHAT_ID>

# Docker Image Tags (for versioning)
API_IMAGE_TAG=latest
BOT_IMAGE_TAG=latest
FRONTEND_IMAGE_TAG=latest
API_MIGRATIONS_IMAGE_TAG=latest

# First Super Admin bootstrap (création automatique au démarrage si défini)
FIRST_SUPER_ADMIN_USERNAME=admin
FIRST_SUPER_ADMIN_PASSWORD=changeme
